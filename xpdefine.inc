{ --------------------------------------------------------------- }
{ Dieser Quelltext ist urheberrechtlich geschuetzt.               }
{ (c) 2000 OpenXP Team & Markus KÑmmerer, http://www.openxp.de    }
{ CrossPoint ist eine eingetragene Marke von Peter Mandrella.     }
{                                                                 }
{ Compilerdirektiven fÅr CrossPoint (OpenXP)                      }
{ --------------------------------------------------------------- }
{ $Id$ }

{ Wenn gesetzt, werden erweiterte Checks in der EXE-Datei durchgefÅhrt
  (Rangecheck) usw. }

{.$DEFINE Debug }

{ Wenn gesetzt, werden in die TPU/TPP Debug Informationen gespeichert
  und es kann eine ausfÅhrliche Map-Datei erstellt werden. éndert den
  Code der EXE-Datei nicht
  Unter Virtual Pascal werden Informationen Åber die Zeilennummern
  gespeichert, vergrî·ert die EXE-Datei etwas. }

{$DEFINE DebugInfo }

{ Wenn gesetzt, werden erweiterte Infos zu FIDO-Nodelisten ausgegeben
  u.a. $USERIDX.TXT im Verz. \FIDO }

{.$DEFINE FIDOTST }

{ Keine Assembler-Routine verwenden. Ein Gegenpart in Pascal mu·
  existieren }
{.$DEFINE NOASM }

{ Ist definiert, wenn Beta-Informationen anzeigt werden sollen }
{$DEFINE Beta }

{ Ist in Snapshot-Versionen definiert }
{$DEFINE Snapshot}

{ Wenn dieser Schalter nicht gesetzt ist, benîtigt XP eine 386er,
  ansonsten ist es auch auf XT aufwÑrts lauffÑhig }
{.$DEFINE NO386 }

{ Wenn dieser Schalter definiert ist, wird eine Version mit CAPI-
  UnterstÅzung compiliert }
{.$DEFINE CAPI }

{ Wenn dieser Schalter definiert ist, wird der Overlay-Buffer im
  XMS angelegt, wenn kein EMS zur Verfuegung steht }
{$DEFINE XMSOVR }

{ --- ab hier sind keine énderungen nîtig --- }

{ GrundsÑtzlich mu· ersteinmal in jeder Version die Registrierungs-
  prozedur enthalten sein }
{$DEFINE NeedReg }

{$IFDEF VER70 }
  {$DEFINE BP }           { 16 Bit Borland Pascal 7 oder 8 (Delphi 1) }
  {$IFDEF DPMI }
    {$DEFINE DPMI16 }
  {$ENDIF }
{$ENDIF }

{$IFDEF VER80 }
  {$DEFINE BP }           { 16 Bit Borland Pascal 7 oder 8 (Delphi 1) }
  {$IFDEF DPMI }
    {$DEFINE DPMI16 }
  {$ENDIF }
{$ENDIF }

{$IFDEF BP }              { Nur fÅr Borland Pascal 7 und 8 }
  {$A+,B-,D-,E-,F-,I-,G+,L-,N-,O-,P-,Q-,R-,S-,T-,V-,X+,Y-}
  {$IFDEF NO386 }
    {$G-}                 { keine 286er Befehle }
  {$ENDIF }
{$ENDIF }

{$IFDEF DebugInfo }
  {$D+,L+,Y+}
{$ENDIF }

{$IFDEF Debug }
  {$R+,S+,Q+}
{$ENDIF }

{
  $Log$
  Revision 1.30.2.10  2003/03/17 22:36:58  my
  TS [+MY]:- Fido: Abfrage, Durchsuchen und Verwalten von Nodelisten
                   geÑndert/korrigiert/erweitert
             ----------------------------------------------------------------------
             - Userindex NODEUSER.IDX "entschlackt", Code kleiner und
               Åbersichtlicher, dadurch Laufzeit auf langsamen Rechnern
               schneller. Bisherige Komprimierung des Index aufgehoben,
               dadurch diverse Probleme behoben und die Mîglichkeit
               zusÑtzlicher Erweiterungen geschaffen (s.u.).
               (ToDo: Nodelisten-Index bei Update automatisch neu
                      schreiben)
             - Fix: Es kam vor, da· manche Listen (z.B. die Zone21-
               Pointliste) zwar eingebunden und indiziert wurden, bei
               einer Nodelist-Abfrage mit <Alt-N> auf die in der
               Auswahlliste angezeigten EintrÑge aber trotzdem nicht
               zugegriffen werden konnte (nach Auswahl mit <Enter> war die
               Anzeige leer). Dies ist durch den Wegfall der Komprimierung
               jetzt behoben.
             - Fix: Beim Durchsuchen der Node-/Pointlisten mit F/N/D ist
               jetzt sichergestellt, da· a) weder fehlende noch b) unzu-
               treffende noch c) doppelte EintrÑge in der Suchergebnis-
               liste auftreten kînnen. Z.B. wurden u.U. EintrÑge gefunden,
               die gar nicht den Suchkriterien entsprachen, und im Sucher-
               gebnis dann mit falschem Sysop-Namen angezeigt; kam eine
               AKA in mehreren Listen vor (z.B. POINTS24 und R24PNT),
               wurde nach dem Zufallsprinzip nur der Eintrag aus einer der
               Listen (der aber dafÅr mehrfach) angezeigt.
             - In allen Suchergebnis-/Auswahllisten steht jetzt hinter dem
               sichtbaren Eintrag der Dateiname sowie die interne Nummer
               der Liste, aus der der jeweilige Eintrag stammt (sichtbar
               zu machen durch Scrollen mit <Cursor-rechts>). Damit ist
               bei mehreren EintrÑgen mit identischer AKA, die aus
               unterschiedlichen Listen stammen, die Herkunft des Eintrags
               erkennbar. Au·erdem werden diese Daten fÅr die weitere
               interne Verarbeitung benîtigt:
             - Fix: Bei der Auswahl eines Eintrags aus der jeweiligen
               Auswahlliste mit <Enter> ist jetzt bei mehreren EintrÑgen
               mit identischer AKA sichergestellt, da· auch wirklich auf
               die Daten des ausgewÑhlten Eintrags in der zugehîrigen
               Node-/Pointliste zugegriffen wird. Bisher wurden die Daten
               unabhÑngig vom ausgewÑhlten Eintrag immer derselben
               (zufÑlligen) Liste entnommen, und an die Daten der EintrÑge
               aus den Åbrigen Listen kam man gar nicht heran. Speziell
               bei EintrÑgen aus Listen FTN-kompatibler Netze wurde
               stellenweise auf die Daten eines beliebigen Eintrags in der
               Fido-Nodeliste zugegriffen.
             - Einige (vorlÑufige) énderungen in der Detailanzeige
               unterhalb der Auswahlliste beim Durchsuchen mit F/N/D.
             - Fix: Bei Listen im Points24-Format werden "Region"-EintrÑge
               (i.d.R. sind das PLK-EintrÑge) beim Durchsuchen mit F/N/D
               ignoriert (Verhalten damit jetzt identisch mit der
               Nodelisten-Abfrage bei <Alt-N> bzw. F/N/A).
             - Listen in einem Points24-kompatiblen Format werden jetzt
               nicht mehr nur am Dateinamen "POINTS24.###", sondern auch
               am Format selbst erkannt. Dadurch wird beim Einbinden
               solcher Listen (z.B. Zone21-Liste) das korrekte Listen-
               format "Points24" (bisher: "Nodeliste") vorgeschlagen.
             - Interne énderung: Neuer Schalter "FIDOTST" in XPDEFINE.INC,
               mit dem der Nodelisten-Index in Textform ausgegeben werden
               kann.

  Revision 1.30.2.9  2003/01/14 21:47:08  mw
  MW: - XMS-Overlaycache nun per Kommandozeile einschaltbar
        (Wenn Compilerschalter gesetzt und kein EMS vorhanden)
      - Kommandozeilenauswertung in der xpx.pas jetzt
        positionsunabhÑngig realisiert.
      - Compilerschalter XMSOVR jetzt per Default eingeschaltet

  Revision 1.30.2.8  2003/01/10 22:02:32  my
  MY:- Log-Kosmetik

  Revision 1.30.2.7  2003/01/10 18:11:49  mw
  MW:- Overlaycache im XMS per Compilerschalter ausgeschaltet.
       (Teil 1)

  Revision 1.30.2.6  2001/09/03 19:19:54  mw
  - Small Cleanup

  Revision 1.30.2.5  2001/08/11 15:03:43  my
  - debug switch off

  Revision 1.30.2.4  2001/08/11 10:58:38  mk
  - debug switch on
  - moved some procedures and functions, because code size of unit

  Revision 1.30.2.3  2000/09/19 03:21:11  mk
  - CoPro-Emu fuer XT Version nicht benoetigt

  Revision 1.30.2.2  2000/06/26 17:57:21  mk
  - Versionsnummer auf 3.30.2 gesetzt

  Revision 1.30.2.1  2000/06/22 17:13:46  mk
  - 32 Bit Teile entfernt

  Revision 1.30  2000/05/27 08:42:33  mk
  - Debugmodus wieder standardmaessig aus

  Revision 1.29  2000/05/14 09:19:22  mk
  - Debuginfos eingeschaltet und Beta 25 eingetragen

  Revision 1.28  2000/05/11 18:21:53  jg
  - Compiledatum im Mailer-String von Snapshotversionen ($IFDEF Snapshot)

  Revision 1.27  2000/05/08 18:40:48  hd
  - NOEMS wieder entfernt

  Revision 1.26  2000/05/08 13:32:00  hd
  - Neues Symbol: NOEMS. Wird bei Ver32 und bei DPMI gesetzt

  Revision 1.25  2000/05/06 17:29:24  mk
  - DOS DPMI32 Portierung

  Revision 1.24  2000/05/06 15:57:04  hd
  - Diverse Anpassungen fuer Linux
  - DBLog schreibt jetzt auch in syslog
  - Window-Funktion implementiert
  - ScreenLines/ScreenWidth werden beim Start gesetzt
  - Einige Routinen aus INOUT.PAS/VIDEO.PAS -> XPCURSES.PAS (nur NCRT)
  - Keine CAPI bei Linux

  Revision 1.23  2000/05/01 19:00:28  hd
  Kein LocalScreen bei NCRT

  Revision 1.22  2000/04/29 08:35:09  mk
  - NCRT Define hinzugefuegt

  Revision 1.21  2000/04/26 20:58:56  mk
  - Erweiterungen fuer Linux

  Revision 1.20  2000/04/23 15:46:53  mk
  - Typo fuer Linux LocalScreen beseitigt

  Revision 1.19  2000/04/23 07:58:54  mk
  - OS/2-Portierung

  Revision 1.17  2000/04/20 17:39:08  mk
  - jetzt wieder ohne Debug-Infos

  Revision 1.16  2000/04/13 12:48:39  mk
  - Anpassungen an Virtual Pascal
  - Fehler bei FindFirst behoben
  - Bugfixes bei 32 Bit Assembler-Routinen
  - Einige unkritische Memory Leaks beseitigt
  - Einge Write-Routinen durch Wrt/Wrt2 ersetzt
  - fehlende CVS Keywords in einigen Units hinzugefuegt
  - ZPR auf VP portiert
  - Winxp.ConsoleWrite provisorisch auf DOS/Linux portiert
  - Automatische Anpassung der Zeilenzahl an Consolengroesse in Win32

  Revision 1.15  2000/04/04 21:01:24  mk
  - Bugfixes f¸r VP sowie Assembler-Routinen an VP angepasst

  Revision 1.14  2000/03/24 08:35:30  mk
  - Compilerfaehigkeit unter FPC wieder hergestellt

  Revision 1.13  2000/03/24 00:03:39  rb
  erste Anpassungen fÅr die portierung mit VP

  Revision 1.12  2000/03/07 00:48:22  mk
  in FPC Goto On und Beta-Warnung eingeschaltet

  Revision 1.11  2000/03/04 11:53:20  mk
  Version auf 3.21.022 beta geaendert und Debug eingeschaltet

  Revision 1.10  2000/03/02 18:32:24  mk
  - Code ein wenig aufgeraeumt

  Revision 1.9  2000/02/28 08:57:05  mk
  - Version auf 3.20 RC1 geandert

  Revision 1.8  2000/02/27 09:05:39  mk
  Ab Beta 3.20.21 ohne Debug-Infos

  Revision 1.7  2000/02/20 11:06:33  mk
  Loginfos hinzugeueft, Todo-Liste geaendert

  Revision 1.6  2000/02/19 11:40:09  mk
  Code aufgeraeumt und z.T. portiert

  Revision 1.5  2000/02/17 16:14:19  mk
  MK: * ein paar Loginfos hinzugefuegt

}
