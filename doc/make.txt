-----------------------------------------------------------------------
                                                  CrossPoint-Quelltexte
                                            (c) 1992-99 Peter Mandrella
                                                   (c) 2000 OpenXP Team

                           Anleitung zum Compilieren der OpenXP-Version
-----------------------------------------------------------------------



0. Vorwort
----------

Die Quelltexte von CrossPoint umfassen ca. 110.000 Codezeilen. Sie sind
weder objektorientiert aufgebaut noch ausreichend kommentiert. Die
Weiterentwicklung dieses Programms ist daher eine sehr schwierige
Aufgabe.

Ich wÅnsche Ihnen dabei viel Erfolg!

Aktuelle Informationen zu den CrossPoint-Quelltexten, Adressen von
Programmierteams etc. werde ich, sobald sie mir bekannt werden, auf
www.crosspoint.de verîffentlichen.

Diese Version des Textes ist auf die Compilierung der OpenXP-Sourcen
angepasst und gilt nur fÅr diesen Sourcebaum. Die aktuellsten Informationen
befinden sich immer auf http://www.openxp.de.


Bevor Sie fortfahren, lesen Sie bitte zuerst SLIZENZ.TXT!


1. Compiler
-----------

Sie benîtigen Borland Pascal Version 7.01 (Achtung: 7.0 reicht nicht!)
einschliesslich der RTL-Quelltexte. Die Stellung der Compilerschalter
sind nicht wichtig, da alle anpassungen in der Datei XPDEFINE.INC
vorgenommen werden.

In den RTL-Quelltexten sind zwei énderungen in CRT.ASM notwendig. Falls
Sie weitere Programme mit Borland Pascal compilieren, die mit diesen
énderungen Probleme haben werden, sollten sie fÅr XP eine separate BP-
Installation verwenden.

- die Initialisierung des Videomodus ist auszukommentieren:

  ;      MOV     AX,3
  ;      CALL    CrtInit

- es ist ein Workaround fÅr den Delay-Bug einzubauen, z.B.:

	NOT	AX
	NOT	DX
	MOV	CX,55

        cmp     dx,cx                 ; hinzugefuegt
        jae     @@3                   ; hinzugefuegt
	DIV	CX
        jmp     @@4                   ; hinzugefuegt
@@3:    mov     ax,0ffffh             ; hinzugefuegt

@@4:    MOV     DelayCnt,AX           ; Sprungmarke hinzugefuegt


Ich kann gerne auch eine fertig compilierte Version der RTL bereit-
stellen, sofern Borland dies erlaubt. Wer daran interessiert ist, mîge
bei Borland eine entsprechende Erlaubnis einholen.

2. Compilieren der einzelnen Module (16 Bit)
-----------------------------------

Die einzelnen Programmdateien werden mit folgenden Kommandos compiliert
bzw. formatiert:

     XP.EXE        bpc.exe
     XP.HLP        ihs xp.ihq
     *.RES         rc <Dateiname.rq>
     *.TXT         df.bat    (Quelldateien: *.dq)


