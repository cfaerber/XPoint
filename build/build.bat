@ECHO OFF
REM $Id$
REM OpenXP "make" Batchdatei: Kompiliert alle fuer XP relevanten
REM Programme und Resourcen

SET TARGET=.\BUILD\XPDIR
SET COMP=D:\PROGRA~1\BP\BIN\BPC -CD -B -E%TARGET%
SET TOUCH=D:\PROGRA~1\BP\BIN\TOUCH

SET IHS=IHS
SET RC=RC

ECHO ON

REM ERSTMAL VERZEICHNISSE ANLEGEN UND ZUR‹CK INS SOURCEDIRECTORY
@MD XPDIR
@CD XPDIR
@MD DOC
@MD Beispiel
@MD Samples
@CD ..
@CD ..

REM HILFSPROGRAMME COMPILIEREN
%COMP% IHS
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% RC
@IF ERRORLEVEL 1 GOTO FEHLER
REM %COMP% DOCFORM
@IF ERRORLEVEL 1 GOTO FEHLER

REM HILFSPROGRAMME VERSCHIEBEN
MOVE Build\XPDIR\IHS.EXE DOC\IHS.EXE
REM MOVE Build\XPDIR\DOCFORM.EXE DOC\DOCFORM.EXE
MOVE Build\XPDIR\RC.EXE RC.EXE

REM ALLES COMPILIEREN
%COMP% MAGGI
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% NDIFF
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% PMCONV
@IF ERRORLEVEL 1 GOTO FEHLER
REM %COMP% SCRIPTS
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% UUCICO
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% UUCP-FL1
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% UUZ
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% XP
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% XP-FM
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% XPME
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% YUP2PKT
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% ZFIDO
@IF ERRORLEVEL 1 GOTO FEHLER
%COMP% ZPR
@IF ERRORLEVEL 1 GOTO FEHLER
@
%RC% XP-D 
@IF ERRORLEVEL 1 GOTO FEHLER
%RC% XP-E 
@IF ERRORLEVEL 1 GOTO FEHLER
%RC% XPFM-D 
@IF ERRORLEVEL 1 GOTO FEHLER
%RC% XPFM-E
@IF ERRORLEVEL 1 GOTO FEHLER
%RC% XPUU-D 
@IF ERRORLEVEL 1 GOTO FEHLER
%RC% XPUU-E
@IF ERRORLEVEL 1 GOTO FEHLER
@CD DOC
%IHS% XP 
@IF ERRORLEVEL 1 GOTO FEHLER
%IHS% XP-E
@IF ERRORLEVEL 1 GOTO FEHLER

REM HILFSPROGRAMME ENTFERNEN
@DEL IHS.EXE
@REM @DEL DOCFORM.EXE

REM HILFEDATEIEN VERSCHIEBEN
MOVE *.hlp ..\Build\XPDIR\

REM BP-Unitdateien von Openxp entfernen
@CD ..
@CD Build
@CD XPDIR
@DEL *.tpu
@CD ..
@CD ..

REM RESOURCECOMPILER ENTFERNEN
@DEL RC.EXE

REM RESOURCEN VERSCHIEBEN 
@MOVE X*.RES Build\XPDIR\
@COPY *.RES Build\XPDIR\

REM DOCUMENTATION KOPIEREN
@COPY DOC\*.DOC Build\XPDIR\DOC\
@COPY DOC\COPYING Build\XPDIR\DOC\
@COPY DOC\FIDO.TXT Build\XPDIR\DOC\
@COPY DOC\OXP16_EN.TXT Build\XPDIR\DOC\
@COPy DOC\README.TXT Build\XPDIR\DOC\
@COPY DOC\SLIZENZ.TXT Build\XPDIR\DOC\
@COPY DOC\SNAPSHOt.TXt Build\XPDIR\DOC\
@COPY DOC\UPDATE.TXT Build\XPDIR\DOC\
@COPY DOC\UUCP.TXT Build\XPDIR\DOC\
@COPY DOC\VERSION.TXT Build\XPDIR\DOC\
@COPY DOC\XPOINT.TXT Build\XPDIR\DOC\
@COPY DOC\ZM.TXT Build\XPDIR\DOC\

REM BEISPIELE KOPIEREN
@COPY Beispiel\*.* Build\XPDIR\Beispiel\
@COPY Samples\*.* Build\XPDIR\Samples\
@COPY Beispiel\*.scr Build\XPDIR\Samples\
@COPY Beispiel\*.dat Build\XPDIR\Samples\
@COPY Beispiel\*.cfg Build\XPDIR\Samples\
@COPY Beispiel\*.reg Build\XPDIR\Samples\
@COPY Beispiel\*.dat Build\XPDIR\

REM SONSTIGES
@COPY *.DLL Build\XPDIR\
@COPY File_id.diz Build\XPDIR\
@COPY *.EXE Build\XPDIR\
@COPY *.COM Build\XPDIR\
@COPY FIDO.PC Build\XPDIR\
@COPY *.ICO Build\XPDIR\

REM ALLES EINMAL TOUCHEN
@CD Build
@CD XPDIR
%TOUCH% *.*
@CD DOC
%TOUCH% *.*
@CD ..
@CD Beispiel
%TOUCH% *.*
@CD ..
@CD Samples
%TOUCH% *.*
@CD ..
@CD ..
:FEHLER
@ECHO OFF
GOTO ENDE
{
  $Log$
  Revision 1.1.4.5  2003/04/23 07:27:06  mf
  MF: - oxpguide.txt removed, oxp16_en.txt added.

  Revision 1.1.4.4  2003/04/13 10:05:08  mw
  MW: - Vergessenes REM eingefÅgt

  Revision 1.1.4.3  2003/04/11 21:16:23  mw
  MW: - Anpassung wegen Dateien die es nur in der 3.40er Version gibt.

  Revision 1.1.4.2  2003/04/11 09:21:02  mw
  MW: - Neues Buildsystem fÅr Openxp/16 3.40 implementiert

}
:ENDE
